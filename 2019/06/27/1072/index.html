<!DOCTYPE HTML>
<html class="no-js" lang="zh-CN">
<!--
//                            _ooOoo_
//                           o8888888o
//                           88" . "88
//                           (| -_- |)
//                            O\ = /O
//                        ____/`---'\____
//                      .   ' \\| |// `.
//                       / \\||| : |||// \
//                     / _||||| -:- |||||- \
//                       | | \\\ - /// | |
//                     | \_| ''\---/'' | |
//                      \ .-\__ `-` ___/-. /
//                   ___`. .' /--.--\ `. . __
//                ."" '< `.___\_<|>_/___.' >'"".
//               | | : `- \`.;`\ _ /`;.`/ - ` : | |
//                 \ \ `-. \_ __\ /__ _/ .-` / /
//         ======`-.____`-.___\_____/___.-`____.-'======
//                            `=---='
//                 拦截插件累计拦截逗比攻击"1381438"次！
//         .............................................
//                  佛祖保佑             永无BUG
//          佛曰:
//                  写字楼里写字间，写字间里程序员；
//                  程序人员写程序，又拿程序换酒钱。
//                  酒醒只在网上坐，酒醉还来网下眠；
//                  酒醉酒醒日复日，网上网下年复年。
//                  但愿老死电脑间，不愿鞠躬老板前；
//                  奔驰宝马贵者趣，公交自行程序员。
//                  别人笑我忒疯癫，我笑自己命太贱；
//                  不见满街漂亮妹，哪个归得程序员？
-->
<head>
    <!--[if lte IE 9]>
<meta http-equiv="refresh" content="0;url=http://example.com/warn.html">
<![endif]-->
<meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
<meta http-equiv="mobile-agent" content="format=html5; url=http://example.com">
<meta name="author" content="ZJLORD">

<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


<link rel="stylesheet" href="/css/SimpleStyle.min.css">


<link rel="shortcut icon" href="/images/favicon.png">


<title>1072 gas station (30 分) - ZJLORD</title>

<meta name="keywords" content="ACM">

<meta name="description " content="">
<meta name="generator" content="Hexo 5.1.1"></head>
<body>
<div id="nav">
    <nav class="nav-menu">
        <a class="site-name current" href="/" title="ZJ">ZJ</a>
        <a class="site-index current" href="/"><i class="fa fa-home"></i><span>Home</span></a>
        <a href="/archives" title="Archives"><i class="fa fa-archives"></i><span>Archives</span></a>
        <a href="/tags" title="Tags"><i class="fa fa-tags"></i><span>Tags</span></a>
        <!-- custom single page of menus -->
        
        
        <a href="/help" title="帮助">
            <i class="fa fa-question-circle"></i>
            <span>帮助</span>
        </a>
        
    </nav>
</div>

<div class="nav-user">
    <a class="btn-search" href="#"><i class="fa fa-search"></i></a>
    <a class="btn-read-mode" href="#"><i class="fa fa-sun-o"></i></a>
    <a class="btn-sns-qr" href="javascript:"><i class="fa fa-telegram"></i></a>
</div>

<div id="wrapper" class="clearfix">
    <div id="body">
        <div class="main" id="main">
            <div id="cover">
    <div class="cover-img"></div>
    <div class="cover-info">
        
        <h1 class="cover-siteName">ZJLORD</h1>
        <h3 class="cover-siteTitle">Coding,Cause that&#39;s the life</h3>
        <p class="cover-siteDesc">平庸的生活方式是麻醉药</p>
        <div class="cover-sns">
            
            <div class="btn btn-github">
                <a href="https://github.com/zjlord" target="_blank" title="github" ref="friend">
                    <i class="fa fa-github"></i>
                </a>
            </div>
            
        </div>
    </div>
</div>
            <div class="page-title">
    <ul>
        <li><a href="/">最新</a></li>
        
            
                <li class="active">
                    <a href="/categories/front-end" data-name="ACM">ACM</a>
                </li>
            
                <li class="">
                    <a href="/categories/back-end" data-name="DeepLearn">DeepLearn</a>
                </li>
            
                <li class="">
                    <a href="/categories/others" data-name="其他">其他</a>
                </li>
            
        
        <li class="page-search">
    <form id="search" class="search-form">
        <label for="s" class="sr-only">Input Search key Words Here</label>
        <input class="search-field" type="text" name="s" class="text" placeholder="" />
        <button type="submit" class="search-form-submit" title="Search"><i class="fa fa-search"></i></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
</li>

    </ul>
</div>
<div class="main-inner">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
        <div class="post-header">
            <div class="post-author clearfix">
                <a class="avatar fleft" href="http://www.zjlord.cn" target="_blank">
                    <img width="48" src="/images/favicon.png" alt="avatar"/>
                </a>
                <p><span class="label">作者</span>
                    <a href="" target="_blank">ZJLORD</a>
                    <span title="最后编辑于2019-06-27">2019-06-27</span>
                </p>
                <p></p>
            </div>
            <h2 class="post-title">1072 Gas Station (30 分)</h2>
            <div class="post-meta">
                本文总共5230个字 | 您是第<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>位看到它们的小伙伴
            </div>
        </div>
        <div class="post-content markdown-body">
            <pre><code>A gas station has to be built at such a location that the minimum distance between the station and any of the residential housing is as far away as possible. However it must guarantee that all the houses are in its service range.

Now given the map of the city and several candidate locations for the gas station, you are supposed to give the best recommendation. If there are more than one solution, output the one with the smallest average distance to all the houses. If such a solution is still not unique, output the one with the smallest index number.

Input Specification:
Each input file contains one test case. For each case, the first line contains 4 positive integers: N (≤1000), the total number of houses; M (≤10), the total number of the candidate locations for the gas stations; K (≤10^4), the number of roads connecting the houses and the gas stations; and DS, the maximum service range of the gas station. It is hence assumed that all the houses are numbered from 1 to N, and all the candidate locations are numbered from G1 to GM.

Then K lines follow, each describes a road in the format

P1 P2 Dist
where P1 and P2 are the two ends of a road which can be either house numbers or gas station numbers, and Dist is the integer length of the road.

Output Specification:
For each test case, print in the first line the index number of the best location. In the next line, print the minimum and the average distances between the solution and all the houses. The numbers in a line must be separated by a space and be accurate up to 1 decimal place. If the solution does not exist, simply output No Solution.

Sample Input 1:
4 3 11 5
1 2 2
1 4 2
1 G1 4
1 G2 3
2 3 2
2 G2 1
3 4 2
3 G3 2
4 G1 3
G2 G1 1
G3 G2 2
Sample Output 1:
G1
2.0 3.3
Sample Input 2:
2 1 2 10
1 G1 9
2 G1 20
Sample Output 2:
No Solution</code></pre>
<p>题意： 找到一个加油站满足尽可能的离住宅远，而且保证在服务范围内。</p>
<p>分析: </p>
<p>将加油站也看作图上的点，对每个加油站做dijskra,找到每个点跟这个加油站的最短距离，</p>
<p>对于全部满足在服务范围内的加油站用vector记录一下，保存当前加油站的信息。</p>
<p>因为要尽可能的远，所以对vector 进行排序一下就行。</p>
<p>代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;bits&#x2F;stdc++.h&gt;</span><br><span class="line">#define inf  0x3f3f3f3f</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int dis[1025];</span><br><span class="line">int maze[1025][1025];</span><br><span class="line">int vis[1025];</span><br><span class="line">typedef struct Node&#123;</span><br><span class="line"></span><br><span class="line">    double ave;</span><br><span class="line">    int id;</span><br><span class="line">    double minn;</span><br><span class="line"></span><br><span class="line">&#125;A;</span><br><span class="line">vector&lt;A&gt;vec;</span><br><span class="line">int n,m,k,d;</span><br><span class="line">bool cmp(A a,A b)</span><br><span class="line">&#123;</span><br><span class="line">    if(a.minn!&#x3D;b.minn)</span><br><span class="line">        return a.minn&gt;b.minn;</span><br><span class="line">    else if(a.ave&lt;b.ave)</span><br><span class="line">        return a.ave&lt;b.ave;</span><br><span class="line">    else</span><br><span class="line">        return a.id&lt;b.id;</span><br><span class="line">&#125;</span><br><span class="line">int getid(char p[])</span><br><span class="line">&#123;</span><br><span class="line">    int id&#x3D;0;</span><br><span class="line">    int len&#x3D; strlen(p);</span><br><span class="line">    int i&#x3D;0;</span><br><span class="line">    while(i&lt;len)</span><br><span class="line">    &#123;</span><br><span class="line">        if(p[i]!&#x3D;&#39;G&#39;)</span><br><span class="line">            id&#x3D;id*10+ (int)(p[i]-&#39;0&#39;);</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    if(p[0]&#x3D;&#x3D;&#39;G&#39;)</span><br><span class="line">        id+&#x3D;n;</span><br><span class="line">    return id;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">void dijistra(int x)</span><br><span class="line">&#123;</span><br><span class="line">    fill(vis,vis+1025,0);</span><br><span class="line">    fill(dis,dis+1025,inf);</span><br><span class="line">    vis[x]&#x3D; 1;</span><br><span class="line">    for(int i&#x3D;1;i&lt;&#x3D;n+m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dis[i]&#x3D;maze[x][i];</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i&#x3D;1;i&lt;&#x3D;n+m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        int minn&#x3D;inf,idex&#x3D;0;</span><br><span class="line">        for(int j&#x3D;1;j&lt;&#x3D;n+m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(vis[j]&#x3D;&#x3D;0 &amp;&amp; dis[j]&lt;minn)</span><br><span class="line">            &#123;</span><br><span class="line">                minn&#x3D;dis[j];</span><br><span class="line">                idex&#x3D;j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if(minn&#x3D;&#x3D; inf)</span><br><span class="line">            break;</span><br><span class="line">        vis[idex]&#x3D;1;</span><br><span class="line">        for(int j&#x3D;1;j&lt;&#x3D;n+m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(!vis[j] &amp;&amp; dis[idex]+maze[idex][j]&lt;dis[j])</span><br><span class="line">                dis[j]&#x3D;dis[idex]+maze[idex][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return ;</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    while(scanf(&quot;%d%d%d%d&quot;,&amp;n,&amp;m,&amp;k,&amp;d)!&#x3D;EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        vec.clear();</span><br><span class="line">        for(int i&#x3D;1;i&lt;&#x3D;n+m;i++)</span><br><span class="line">            for(int j&#x3D;1;j&lt;&#x3D;m+n;j++)</span><br><span class="line">                maze[i][j]&#x3D;inf;</span><br><span class="line">        char p1[5],p2[5];</span><br><span class="line">        int x;</span><br><span class="line">        for(int i&#x3D;1;i&lt;&#x3D;k;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            scanf(&quot;%s %s %d&quot;,p1,p2,&amp;x);</span><br><span class="line">            int id1 &#x3D; getid(p1);</span><br><span class="line">            int id2 &#x3D; getid(p2);</span><br><span class="line">            maze[id1][id2]&#x3D;maze[id2][id1]&#x3D;x;</span><br><span class="line">        &#125;</span><br><span class="line">        for(int i&#x3D;1;i&lt;&#x3D;m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            dijistra(i+n);</span><br><span class="line">            int t;</span><br><span class="line">            double sum&#x3D;0;</span><br><span class="line">            int  minn&#x3D;inf;</span><br><span class="line">            for(t&#x3D;1;t&lt;&#x3D;n;t++)</span><br><span class="line">            &#123;</span><br><span class="line">                if(dis[t]&gt;d)</span><br><span class="line">                    break;</span><br><span class="line">                sum+&#x3D;dis[t];</span><br><span class="line">                minn &#x3D; min(minn,dis[t]);</span><br><span class="line">            &#125;</span><br><span class="line">            if(t&#x3D;&#x3D;n+1)</span><br><span class="line">            &#123;</span><br><span class="line">                A a;</span><br><span class="line">                a.ave &#x3D; 1.0*sum&#x2F;n;</span><br><span class="line">                a.minn &#x3D; double(minn);</span><br><span class="line">                a.id &#x3D; i;</span><br><span class="line">                vec.push_back(a);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if(vec.size()&#x3D;&#x3D;0)</span><br><span class="line">        &#123;</span><br><span class="line">            puts(&quot;No Solution&quot;);</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(vec.begin(),vec.end(),cmp);</span><br><span class="line">        printf(&quot;G%d\n&quot;,vec[0].id);</span><br><span class="line">        printf(&quot;%.1lf %.1lf\n&quot;,vec[0].minn,vec[0].ave);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
        </div>
        
        <div class="post-tags">Tags：
            
            <a href="/tags/ACM/">ACM</a>
            
        </div>
        
    </article>
    
    <p>本文代表个人观点，内容仅供参考。若有不恰当之处，望不吝赐教！</p>
    
    
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    var disqus_config = function () {
        this.page.url = 'http://example.com/2019/06/27/1072/';
        this.page.identifier = '2019/06/27/1072/';
    };
    (function () { // DON'T EDIT BELOW THIS LINE
        var d = document, disqus_shortname = 'zjlord', s = d.createElement('script');
        s.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by
        Disqus.</a></noscript>

</div>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        </div><!-- end #main-->
    </div><!-- end #body -->
    <footer class="footer">
    <div class="footer-inner">
        <p>
            <a href="/about"  title="About">About</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <!-- 自定义链接 -->
            <a href="/links" title="友情链接">友情链接</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
        </p>
        <p>
            本站点采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a><br/>
            ©2018 基于<a href="http://hexo.io" target="_blank">Hexo</a>搭建
            ，主题&nbsp<a href="https://github.com/tangkunyin/hexo-theme-jsimple" target="_blank">JSimple</a>
        </p>
        
<!-- Tencent Analytics -->
<script type="text/javascript" src="//tajs.qq.com/stats?sId=66100531" charset="UTF-8"></script>


    </div>
</footer>
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

<script src="/js/InsightSearch.js"></script>
<script src="/js/SimpleCore.js"></script>


</div>
<div class="fixed-btn">
    <a class="btn-gotop" href="javascript:"> <i class="fa fa-angle-up"></i></a>
</div>
<script type="text/javascript" src="http://tajs.qq.com/stats?sId=66100514" charset="UTF-8"></script>
<script>
    $(function () {
        SimpleCore.init({
            buildingTime: '11/01/2018',
            current: $('.post-tags').length > 0 ? 'post' : 'archive',
            snsQRCode: '/images/sns-qrcode.png',
            donateImg: '/images/donate-qr.png',
        });
    });
</script>
</body>
</html>
